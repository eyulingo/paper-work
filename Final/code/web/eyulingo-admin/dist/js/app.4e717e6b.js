(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],u=0,f=[];u<s.length;u++)i=s[u],o[i]&&f.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1558:function(e,t,n){},"344c":function(e,t,n){"use strict";var r=n("1558"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=(n("5c0b"),n("2877")),s={},l=Object(i["a"])(s,o,a,!1,null,null,null),c=l.exports,d=n("8c4f"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Login")},f=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",attrs:{model:e.form}},[n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:6}},[n("el-form-item",[n("span",[n("font",{attrs:{size:"4"}},[e._v("管理员登录")])],1)])],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{size:"small",placeholder:"账户",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),n("el-row",{attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{size:"small",placeholder:"密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1)],1),n("el-row",{staticStyle:{margin:"15px"},attrs:{type:"flex",justify:"center"}},[n("el-col",{attrs:{span:12}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")])],1)],1)],1)],1)],1)},p=[],h=(n("a481"),n("7f7f"),n("bc3a")),g=n.n(h),_={name:"Login",data:function(){return{form:{name:"",password:""},loading:!1}},methods:{submit:function(){var e=this;this.loading=!0;var t={adminName:this.form.name,password:this.form.password},n={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"}};g.a.post("http://localhost:8080/admin/login",t,n).then(function(t){console.log(t),console.log(t.config),console.log(t.request),"ok"==t.data.status?(document.cookie="adminName=",document.cookie="adminPassword=",document.cookie="adminName="+e.form.name,document.cookie="adminPassword="+e.form.password,e.loading=!1,alert("登录成功，您拥有管理员权限！"),e.$router.replace({path:"/admin"})):(e.loading=!1,alert("登录失败"))}).finally(function(){e.loading=!1})}}},v=_,w=(n("82a2"),Object(i["a"])(v,m,p,!1,null,null,null)),y=w.exports,b={name:"about",components:{Login:y}},S=b,k=Object(i["a"])(S,u,f,!1,null,null,null),x=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("AdminForm")],1)},j=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{on:{click:function(t){return e.change(1)}}},[e._v("店铺信息")]),n("el-button",{on:{click:function(t){return e.change(2)}}},[e._v("经销商信息")]),n("el-button",{on:{click:function(t){return e.logout()}}},[e._v("注销登录")]),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"mini",data:e.master_user.data,border:"","highlight-current-row":""}},[e._l(e.is_store?e.master_user.columns_store:e.master_user.columns_dist,function(t){return n("el-table-column",{key:t.filed,attrs:{prop:t.field,label:t.title,width:t.width},scopedSlots:e._u([{key:"default",fn:function(r){return["store_id"==t.field?n("span",[e._v(e._s(r.row[t.field]))]):r.row.isSet?n("span",[n("el-input",{attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.master_user.sel[t.field],callback:function(n){e.$set(e.master_user.sel,t.field,n)},expression:"master_user.sel[v.field]"}})],1):n("span",[e._v(e._s(r.row[t.field]))])]}}],null,!0)})}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticClass:"el-tag el-tag--info el-tag--mini",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.pwdChange(t.row,t.$index,!0)}}},[e._v("\n                            "+e._s(t.row.isSet?"保存":"修改")+"\n                        ")]),t.row.isSet?n("span",{staticClass:"el-tag  el-tag--mini",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.pwdChange(t.row,t.$index,!1)}}},[e._v("\n                            取消\n                        ")]):n("span",{staticClass:"el-tag el-tag--danger el-tag--mini",staticStyle:{cursor:"pointer"},on:{click:function(n){return e.deleteMasterUser(t.$index)}}},[e._v("\n                            删除\n                        ")])]}}])})],2)],1),n("el-col",{attrs:{span:24,hidden:"true"}},[n("div",{staticClass:"el-table-add-row",staticStyle:{width:"99.2%"},on:{click:function(t){return e.addMasterUser()}}},[n("span",[e._v("+ 添加")])])]),n("el-col",{attrs:{span:24}},[n("div",{staticClass:"el-table-add-row",staticStyle:{width:"99.2%"},on:{click:function(t){return e.readMasterUser()}}},[n("span",[e._v("刷新")])])])],1)],1)},$=[],N=(n("ac4d"),n("8a81"),n("ac6a"),{_count:1,get:function(){return+new Date+"_"+this._count++}}),A={name:"adminForm",data:function(){return{master_user:{sel:null,columns_store:[{field:"store_id",title:"店铺ID",width:120},{field:"name",title:"店铺名称",width:120},{field:"address",title:"店铺地址"},{field:"starttime",title:"营业开始时间",width:220},{field:"endtime",title:"营业结束时间",width:220},{field:"store_phone_nu",title:"店铺手机号",width:120}],columns_dist:[{field:"store_id",title:"店铺ID",width:120},{field:"location",title:"地理位置"},{field:"truename",title:"真实姓名",width:120},{field:"dist_phone_nu",title:"经销商联系方式",width:120},{field:"password",title:"密码",width:120}],data:[]},loading:!1,is_store:!0}},created:function(){this.readMasterUser()},methods:{logout:function(){var e=this,t={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},withCredentials:!0};g.a.post("http://localhost:8080/admin/logout",{},t).then(function(t){console.log(t.data),document.cookie="adminName=",document.cookie="adminPassword=",e.$router.replace({path:"/"})})},change:function(e){this.is_store=1==e},readMasterUser:function(){var e=this;this.loading=!0,g.a.get("http://localhost:8080/admin/getstore",{headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},withCredentials:!0}).then(function(t){console.log(t),e.master_user.data=t.data}).finally(function(){e.loading=!1}),this.master_user.data.map(function(e){return e.id=N.get(),e.isSet=!1,e._temporary=!0,e}),this.loading=!1},addMasterUser:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.master_user.data[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;if(a.isSet)return this.$message.warning("请先保存当前编辑项")}}catch(s){t=!0,n=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var i={id:0,store_id:"",name:"",address:"",starttime:"",endtime:"",store_image_id:"",location:"",truename:"",dist_phone_nu:"",password:"",dist_image_id:"",store_phone_nu:"",isSet:!0,_temporary:!0};this.master_user.data.push(i),this.master_user.sel=JSON.parse(JSON.stringify(i))},deleteMasterUser:function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=this.master_user.data[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value;if(i.isSet)return this.$message.warning("请先保存当前编辑项"),!1}}catch(s){n=!0,r=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return console.log(e),this.$message.warning("尚未开启删除功能"),!1},pwdChange:function(e,t,n){var r=this,o=!0,a=!1,i=void 0;try{for(var s,l=this.master_user.data[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;if(c.isSet&&c.id!=e.id)return this.$message.warning("请先保存当前编辑项"),!1}}catch(h){a=!0,i=h}finally{try{o||null==l.return||l.return()}finally{if(a)throw i}}if(!n)return this.master_user.sel.id||this.master_user.data.splice(t,1),e.isSet=!e.isSet;if(e.isSet){var d=JSON.parse(JSON.stringify(this.master_user.sel));for(var u in console.log(e),d)e[u]=d[u];console.log(e),console.log(d),this.loading=!0;var f={headers:{"Content-Type":"application/json;charset=UTF-8","Access-Control-Allow-Origin":"*"},withCredentials:!0};if(this.is_store){var m={store_id:e.store_id,name:e.name,address:e.address,starttime:e.starttime,endtime:e.endtime,store_phone_nu:e.store_phone_nu};g.a.post("http://localhost:8080/admin/modifystore",m,f).then(function(e){"ok"==e.data.status?(r.loading=!1,alert("修改店铺信息成功！")):(r.loading=!1,alert("修改失败"))}).finally(function(){r.loading=!1})}else{var p={store_id:e.store_id,location:e.location,truename:e.truename,dist_phone_nu:e.dist_phone_nu,password:e.password};g.a.post("http://localhost:8080/admin/modifydist",p,f).then(function(e){"ok"==e.data.status?(r.loading=!1,alert("修改经销商信息成功！")):(r.loading=!1,alert("修改失败"))}).finally(function(){r.loading=!1})}this.readMasterUser(),e.isSet=!1,this.master_user.data.splice(t,1,e)}else this.master_user.sel=JSON.parse(JSON.stringify(e)),e.isSet=!0,this.master_user.data.splice(t,1,e)}}},M=A,U=(n("344c"),Object(i["a"])(M,C,$,!1,null,null,null)),T=U.exports,F={name:"adminView",components:{AdminForm:T}},P=F,J=Object(i["a"])(P,O,j,!1,null,null,null),E=J.exports;r["default"].use(d["a"]);var z=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"login",component:x},{path:"/admin",name:"admin",component:E}]}),D=n("9483");Object(D["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var L=n("5c96"),q=n.n(L),I=n("b2d6"),B=n.n(I);n("f843");r["default"].use(q.a,{locale:B.a}),r["default"].config.productionTip=!1,new r["default"]({router:z,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),o=n.n(r);o.a},"5e27":function(e,t,n){},"82a2":function(e,t,n){"use strict";var r=n("d5e3"),o=n.n(r);o.a},d5e3:function(e,t,n){},f843:function(e,t,n){}});
//# sourceMappingURL=app.4e717e6b.js.map